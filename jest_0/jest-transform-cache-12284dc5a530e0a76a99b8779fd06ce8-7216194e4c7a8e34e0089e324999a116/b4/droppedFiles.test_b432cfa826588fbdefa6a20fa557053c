'use strict';var _react = require('react');var _react2 = _interopRequireDefault(_react);
var _actions = require('../../src/actions');
var _droppedFiles = require('../../src/reducers/droppedFiles');
var _seamlessImmutable = require('seamless-immutable');var _seamlessImmutable2 = _interopRequireDefault(_seamlessImmutable);function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

describe('reducers/droppedFiles', function () {
    it('should return an an empty array as default', function () {
        expect(
        (0, _droppedFiles.droppedFiles)(undefined, { type: "" })).
        toEqual(
        []);

    });
    it('should return an an empty array if files where stored', function () {
        expect(
        (0, _droppedFiles.droppedFiles)({ test: test }, { type: _actions.DOCUMENTS_STORED })).
        toEqual(
        []);

    });
    it('should return an an empty array if files where not stored', function () {
        expect(
        (0, _droppedFiles.droppedFiles)({ test: test }, { type: _actions.DOCUMENTS_NOT_STORED })).
        toEqual(
        []);

    });
    it('should add dropped file to empty state', function () {
        var document = {
            name: "foo.pdf",
            size: 17,
            lastModified: 52376457234,
            type: "pdf" };

        var existingState = (0, _seamlessImmutable2.default)({});
        expect(
        (0, _droppedFiles.droppedFiles)(existingState, { type: _actions.FILE_DROP, document: document })).
        toEqual(
        [document]);

    });
    it('should add dropped file to state with existing files', function () {
        var document = {
            name: "foo.pdf",
            size: 17,
            lastModified: 52376457234,
            type: "pdf" };

        var document2 = {
            name: "foo2.pdf",
            size: 17,
            lastModified: 52376457234,
            type: "pdf" };

        expect(
        (0, _droppedFiles.droppedFiles)([document], { type: _actions.FILE_DROP, document: document2 })).
        toEqual(
        [document, document2]);

    });
});