'use strict';var _react = require('react');var _react2 = _interopRequireDefault(_react);
var _DropZone = require('../../src/containers/DropZone');var _DropZone2 = _interopRequireDefault(_DropZone);
var _enzyme = require('enzyme');
var _sinon = require('sinon');
var _reduxMockStore = require('redux-mock-store');var _reduxMockStore2 = _interopRequireDefault(_reduxMockStore);
var _reactTestRenderer = require('react-test-renderer');var _reactTestRenderer2 = _interopRequireDefault(_reactTestRenderer);
var _shallow = require('react-test-renderer/shallow');var _shallow2 = _interopRequireDefault(_shallow);
var _MuiThemeProvider = require('material-ui/styles/MuiThemeProvider');var _MuiThemeProvider2 = _interopRequireDefault(_MuiThemeProvider);

var _reactTapEventPlugin = require('react-tap-event-plugin');var _reactTapEventPlugin2 = _interopRequireDefault(_reactTapEventPlugin);function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}
(0, _reactTapEventPlugin2.default)();

var mockStore = (0, _reduxMockStore2.default)();

describe('containers/DropZone', function () {
    var wrapper = void 0,store = void 0;

    beforeEach(function () {
        store = mockStore({ uploading: false, upload_error: { error: false, errorMessage: "" } });
        store.dispatch = (0, _sinon.spy)();
        wrapper = (0, _enzyme.shallow)(_react2.default.createElement(_DropZone2.default, { store: store }));
    });

    it('renders correctly', function () {
        var renderer = new _shallow2.default();
        renderer.render(
        _react2.default.createElement(_DropZone2.default, { store: store }));

        expect(renderer.getRenderOutput()).toMatchSnapshot();
    });

    it('maps state and dispatch to props', function () {
        expect(wrapper.props()).toEqual(expect.objectContaining({
            uploading: expect.any(Boolean),
            error: expect.any(Boolean),
            errorMessage: expect.any(String),
            storeDocuments: expect.any(Function),
            dropFiles: expect.any(Function) }));

    });

    it('should initialize default state', function () {
        wrapper = (0, _enzyme.mount)(
        _react2.default.createElement(_MuiThemeProvider2.default, null,
            _react2.default.createElement(_DropZone2.default, { store: store })));



        expect(wrapper.props().childrem[0].store.getState()).toEqual({ tag: "", tags: [], files: [] });
    });

});