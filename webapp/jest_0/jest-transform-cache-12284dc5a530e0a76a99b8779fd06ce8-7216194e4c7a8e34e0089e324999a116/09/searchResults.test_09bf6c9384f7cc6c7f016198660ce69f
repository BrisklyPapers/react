'use strict';var _search = require('../../src/actions/search.js');
var _searchResults = require('../../src/reducers/searchResults');

describe('reducers/searchResults SEARCH_INPUT_KEY_PRESSED', function () {
    it('key pressed', function () {
        expect(
        (0, _searchResults.searchResults)({}, { type: _search.SEARCH_INPUT_KEY_PRESSED })).
        toEqual({
            didInvalidate: true });

    });
    it('invalidate', function () {
        expect(
        (0, _searchResults.searchResults)({ didInvalidate: false }, { type: _search.SEARCH_INPUT_KEY_PRESSED })).
        toEqual({
            didInvalidate: true });

    });
});

describe('reducers/searchResults SEARCH_DOCUMENTS', function () {
    it('trigger search', function () {
        expect(
        (0, _searchResults.searchResults)({}, { type: _search.SEARCH_DOCUMENTS })).
        toEqual({
            isFetching: true,
            didInvalidate: false });

    });
});

describe('reducers/searchResults RECEIVE_DOCUMENTS', function () {
    it('received documents', function () {
        expect(
        (0, _searchResults.searchResults)({}, { type: _search.RECEIVE_DOCUMENTS, documents: [{ a: "bc" }], receivedAt: "now" })).
        toEqual({
            isFetching: false,
            didInvalidate: false,
            documents: [{ a: "bc" }],
            lastUpdated: "now" });

    });
});

describe('reducers/searchResults RECEIVE_DOCUMENTS_ERROR', function () {
    it('received documents', function () {
        expect(
        (0, _searchResults.searchResults)({}, { type: _search.RECEIVE_DOCUMENTS_ERROR, documents: [{ a: "bc" }], receivedAt: "now" })).
        toEqual({
            isFetching: false,
            didInvalidate: false,
            documents: [] });

    });
});

describe('reducers/searchResults RECEIVE_DOCUMENTS_ERROR', function () {
    it('invalid action + default state', function () {
        expect(
        (0, _searchResults.searchResults)(undefined, { type: "" })).
        toEqual({
            isFetching: false,
            didInvalidate: false,
            documents: [] });

    });
});